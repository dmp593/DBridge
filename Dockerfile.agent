FROM python:3.13-alpine

ENV PYTHONUNBUFFERED=1

ENV PROXY_HOST=0.0.0.0
ENV PROXY_PORT=7000

ENV DATABASE_HOST=localhost
ENV DATABASE_PORT=3306

ENV MIN_THREADS=3
ENV RETRY_DELAY_SECONDS=1.0

ENV USE_SSL=no
# ENV SSL_CERT=proxy.crt

WORKDIR /app
COPY agent.py agent.py

EXPOSE 7000
EXPOSE 9000

CMD ["python", "agent.py"]
